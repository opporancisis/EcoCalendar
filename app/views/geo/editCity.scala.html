@(editForm: play.data.Form[models.geo.City],
	city: models.geo.City,
	countries: List[models.geo.Country])

@import helper._
@import scala.collection.mutable.LinkedHashMap
@import views.menu.SystemMenu._

@main(
	if(city != null)
		"nav.geo.city.edit"
	else
		"nav.geo.city.create",
	breadcrumbs = LinkedHashMap(
		"nav.geo.city.list" -> routes.CityController.list,
		if (city != null) editForm("name").value -> routes.CityController.edit(city.id)
		else "nav.geo.city.create" -> routes.CityController.create
	)
) {

@helper.form(if(city != null) routes.CityController.doEdit(city.id) else routes.CityController.doCreate, 'class -> "form-horizontal") {

	@if(editForm.hasGlobalErrors) { 
		<div class="alert alert-danger">@editForm.globalError.message</div>
	}

	@select(
		field = editForm("country"),
		options = countries.map(a => a.id.toString -> a.name).toSeq,
		'_label -> "label.country",
		'class -> "form-control",
		'_default -> Messages("label.none.selected")
	)(FieldConstructor(views.html.bootstrap.field.f), null)

	@inputText(
		field = editForm("name"),
		'_label -> "label.name"
	)(FieldConstructor(views.html.bootstrap.input.f), null)

	@inputText(
		field = editForm("centerLatitude"),
		'_label -> "label.centerLatitude"
	)(FieldConstructor(views.html.bootstrap.input.f), null)

	@inputText(
		field = editForm("centerLongitude"),
		'_label -> "label.centerLongitude"
	)(FieldConstructor(views.html.bootstrap.input.f), null)

	@inputText(
		field = editForm("defaultZoom"),
		'_label -> "label.defaultZoom"
	)(FieldConstructor(views.html.bootstrap.input.f), null)

	@inputText(
		field = editForm("weight"),
		'_label -> "label.weight",
		'help -> Messages("label.city.weight.help")
	)(FieldConstructor(views.html.bootstrap.input.f), null)

	<input type="submit" value="@Messages(if(city != null) "label.save" else "label.create")" class="btn btn-primary">

}

}